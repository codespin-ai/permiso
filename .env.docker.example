# Permiso Docker Environment Configuration
# Copy to .env.docker and update with your values
#
# Used by: docker-compose.yml
# IMPORTANT: All required variables must be set. No defaults are used.

# =============================================================================
# Database Type (REQUIRED)
# =============================================================================
# Options: sqlite | postgres
PERMISO_DB_TYPE=sqlite

# =============================================================================
# SQLite Configuration (required when PERMISO_DB_TYPE=sqlite)
# =============================================================================
# Path inside container - host path mapped via PERMISO_HOST_DATA_DIR
PERMISO_SQLITE_PATH=/app/data/permiso.db

# Host directory to mount as /app/data in container
PERMISO_HOST_DATA_DIR=./data

# =============================================================================
# PostgreSQL Configuration (required when PERMISO_DB_TYPE=postgres)
# =============================================================================
# Use host.docker.internal to connect to host PostgreSQL from container
# PERMISO_DB_HOST=host.docker.internal
# PERMISO_DB_PORT=5432
# PERMISO_DB_NAME=permiso

# RLS Database User (for organization-scoped operations)
# RLS_DB_USER=rls_db_user
# RLS_DB_USER_PASSWORD=changeme_rls_password

# Unrestricted Database User (for ROOT/admin operations)
# UNRESTRICTED_DB_USER=unrestricted_db_user
# UNRESTRICTED_DB_USER_PASSWORD=changeme_admin_password

# =============================================================================
# Server Configuration (REQUIRED)
# =============================================================================
PERMISO_SERVER_HOST=0.0.0.0
PERMISO_SERVER_PORT=5001
LOG_LEVEL=info

# =============================================================================
# Docker-specific Configuration
# =============================================================================
# Run migrations on container startup
PERMISO_AUTO_MIGRATE=true

# =============================================================================
# API Key Authentication (optional)
# =============================================================================
# PERMISO_API_KEY=your-secure-api-key-here
# PERMISO_API_KEY_ENABLED=true
