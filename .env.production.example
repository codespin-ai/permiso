# Permiso Production Environment Configuration
# Copy to .env.production and update with your values
#
# IMPORTANT: All required variables must be set. No defaults are used.
# SECURITY: Never commit actual .env.production to version control.

# =============================================================================
# Database Type (REQUIRED)
# =============================================================================
# Options: sqlite | postgres
# Choose based on your deployment needs:
#   - sqlite: Simpler deployment, single-file database
#   - postgres: Better for high-concurrency, includes RLS for multi-tenancy
PERMISO_DB_TYPE=postgres

# =============================================================================
# SQLite Configuration (required when PERMISO_DB_TYPE=sqlite)
# =============================================================================
# PERMISO_SQLITE_PATH=/var/lib/permiso/permiso.db

# =============================================================================
# PostgreSQL Configuration (required when PERMISO_DB_TYPE=postgres)
# =============================================================================
PERMISO_DB_HOST=your-db-host.example.com
PERMISO_DB_PORT=5432
PERMISO_DB_NAME=permiso

# RLS Database User (for organization-scoped operations)
RLS_DB_USER=rls_db_user
RLS_DB_USER_PASSWORD=use-strong-password-here

# Unrestricted Database User (for ROOT/admin operations)
UNRESTRICTED_DB_USER=unrestricted_db_user
UNRESTRICTED_DB_USER_PASSWORD=use-strong-password-here

# =============================================================================
# Server Configuration (REQUIRED)
# =============================================================================
PERMISO_SERVER_HOST=0.0.0.0
PERMISO_SERVER_PORT=5001
LOG_LEVEL=info

# =============================================================================
# API Key Authentication (recommended for production)
# =============================================================================
PERMISO_API_KEY=generate-secure-api-key-here
PERMISO_API_KEY_ENABLED=true

# =============================================================================
# Docker/Kubernetes Configuration (if applicable)
# =============================================================================
# PERMISO_AUTO_MIGRATE=false  # Run migrations separately in production
